<h1>Books</h1>

<table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th class="vtop">Author</th>
            <th>
                Title
                <br><small class="small not-bold">(Click on the title for editing)</small>
            </th>
            <th class="vtop">Release Year</th>
            <th class="vtop">Library</th>
        </tr>
    </thead>
    <tbody>
        {{#each model as |book|}}
            <tr>
                <td>
                    {{book.author.name}}
                </td>
                {{#if book.isEditing}}
                    <td>
                        <form {{action 'saveBook' book on='submit'}} class="form-inline">
                            <div class="input-group">
                                {{input value=book.title class='form-control'}}
                                <div class="input-group-btn">
                                    <button type="submit" class="btn btn-success" disabled={{book.isNotValid}}>Save</button>
                                    <button class="btn btn-danger" {{action 'cancelBookEdit' book}}>Cancel</button>
                                </div>
                            </div>
                        </form>
                    </td>
                {{else}}
                    <td {{action 'editBook' book}}>{{book.title}}</td>
                {{/if}}
                <td>{{book.releaseYear}}</td>
                <td>{{book.library.name}}</td>
            </tr>
        {{/each}}
    </tbody>
</table>
